<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Plots the posterior distribution of parameters estimated with Reca.
Useful to corroborate convergence of simulations.
The distribution is plotted in order of iterations, so that issues with autocorrelation in the simulation can be detected.
Autocorrelation issues may be addressed by adjusting the argument 'Thin' to ParameterizeRecaModels
The upper and lower quantiles of the distributions are highlighted, so that rare spikes or multi-modalities can be detected.
Rare spikes and multi-modalities can be addressed by adjusting the argument 'Burnin' to ParameterizeRecaModels
In order to provide an overview of many age-groups at once. Several panels are created and age-groups that
have closer mean values are plotted together. This is achieved with a k-means clustering (kmeans),
and some key parameters for the clustering algorithm is provided as options Nclust, Iter.max, Nstart,
Any grouping variables or length groups in 'RecaCatchAtAge' are incorporated into the age group definition.
This tends to crowd the plots, and may make them unreadable. While it is desirable to ensure that the parameters has converged
for all ages, grouping variables and length groups, it is often necessary to compromise. One may
increase 'LengthInterval'
Default is to collapse length groups entirely

adjust 'PlusGroup'
Reduces the total number of age groups

adjust 'CatLimit'
which removes legends from the most crowded plots

remove grouping variables
make additional estimates for the same parameterisation, with fewer grouping variables. See: RunRecaModels


If 'LengthInterval' specifies only one length-group. Length groups will be removed from plot legends.
Additional convergence checks can be set up using several parameterisation runs and
the functions ReportRecaParameterStatistics and ReportParameterConvergence.
That analysis checks the convergence of model parameters, rather than the estimated parameters,
and supports handling a large number of model parameters, and filter out indications of non-convergence."><title>Reca Traceplots — PlotPosteriorTraces • RstoxFDA</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Reca Traceplots — PlotPosteriorTraces"><meta property="og:description" content="Plots the posterior distribution of parameters estimated with Reca.
Useful to corroborate convergence of simulations.
The distribution is plotted in order of iterations, so that issues with autocorrelation in the simulation can be detected.
Autocorrelation issues may be addressed by adjusting the argument 'Thin' to ParameterizeRecaModels
The upper and lower quantiles of the distributions are highlighted, so that rare spikes or multi-modalities can be detected.
Rare spikes and multi-modalities can be addressed by adjusting the argument 'Burnin' to ParameterizeRecaModels
In order to provide an overview of many age-groups at once. Several panels are created and age-groups that
have closer mean values are plotted together. This is achieved with a k-means clustering (kmeans),
and some key parameters for the clustering algorithm is provided as options Nclust, Iter.max, Nstart,
Any grouping variables or length groups in 'RecaCatchAtAge' are incorporated into the age group definition.
This tends to crowd the plots, and may make them unreadable. While it is desirable to ensure that the parameters has converged
for all ages, grouping variables and length groups, it is often necessary to compromise. One may
increase 'LengthInterval'
Default is to collapse length groups entirely

adjust 'PlusGroup'
Reduces the total number of age groups

adjust 'CatLimit'
which removes legends from the most crowded plots

remove grouping variables
make additional estimates for the same parameterisation, with fewer grouping variables. See: RunRecaModels


If 'LengthInterval' specifies only one length-group. Length groups will be removed from plot legends.
Additional convergence checks can be set up using several parameterisation runs and
the functions ReportRecaParameterStatistics and ReportParameterConvergence.
That analysis checks the convergence of model parameters, rather than the estimated parameters,
and supports handling a large number of model parameters, and filter out indications of non-convergence."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">RstoxFDA</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.1.0-9001</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/StoX-data-preparation.html">StoX FDA data preparation (baseline)</a>
    <a class="dropdown-item" href="../articles/Stox-FDA-overview.html">StoX Fisheries overview (report)</a>
    <a class="dropdown-item" href="../articles/stox-reca.html">StoX-Reca (analysis)</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/StoXProject/RstoxFDA/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Reca Traceplots</h1>
      <small class="dont-index">Source: <a href="https://github.com/StoXProject/RstoxFDA/blob/HEAD/R/StoxPlots.R" class="external-link"><code>R/StoxPlots.R</code></a></small>
      <div class="d-none name"><code>PlotPosteriorTraces.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Plots the posterior distribution of parameters estimated with Reca.
Useful to corroborate convergence of simulations.</p>
<p>The distribution is plotted in order of iterations, so that issues with autocorrelation in the simulation can be detected.
Autocorrelation issues may be addressed by adjusting the argument 'Thin' to <code><a href="ParameterizeRecaModels.html">ParameterizeRecaModels</a></code>
The upper and lower quantiles of the distributions are highlighted, so that rare spikes or multi-modalities can be detected.
Rare spikes and multi-modalities can be addressed by adjusting the argument 'Burnin' to <code><a href="ParameterizeRecaModels.html">ParameterizeRecaModels</a></code></p>
<p>In order to provide an overview of many age-groups at once. Several panels are created and age-groups that
have closer mean values are plotted together. This is achieved with a k-means clustering (<code><a href="https://rdrr.io/r/stats/kmeans.html" class="external-link">kmeans</a></code>),
and some key parameters for the clustering algorithm is provided as options Nclust, Iter.max, Nstart,</p>
<p>Any grouping variables or length groups in 'RecaCatchAtAge' are incorporated into the age group definition.
This tends to crowd the plots, and may make them unreadable. While it is desirable to ensure that the parameters has converged
for all ages, grouping variables and length groups, it is often necessary to compromise. One may</p><dl><dt>increase 'LengthInterval'</dt>
<dd><p>Default is to collapse length groups entirely</p></dd>

<dt>adjust 'PlusGroup'</dt>
<dd><p>Reduces the total number of age groups</p></dd>

<dt>adjust 'CatLimit'</dt>
<dd><p>which removes legends from the most crowded plots</p></dd>

<dt>remove grouping variables</dt>
<dd><p>make additional estimates for the same parameterisation, with fewer grouping variables. See: <code><a href="RunRecaModels.html">RunRecaModels</a></code></p></dd>


</dl><p>If 'LengthInterval' specifies only one length-group. Length groups will be removed from plot legends.</p>
<p>Additional convergence checks can be set up using several parameterisation runs and
the functions <code><a href="ReportRecaParameterStatistics.html">ReportRecaParameterStatistics</a></code> and <code><a href="ReportParameterConvergence.html">ReportParameterConvergence</a></code>.
That analysis checks the convergence of model parameters, rather than the estimated parameters,
and supports handling a large number of model parameters, and filter out indications of non-convergence.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">PlotPosteriorTraces</span><span class="op">(</span></span>
<span>  <span class="va">RecaCatchAtAge</span>,</span>
<span>  Parameter <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"TotalCatch"</span>, <span class="st">"MeanLength"</span>, <span class="st">"MeanWeight"</span><span class="op">)</span>,</span>
<span>  PlusGroup <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/integer.html" class="external-link">integer</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  LengthInterval <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">numeric</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  UseDefaultPlotSettings <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  Nclust <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/integer.html" class="external-link">integer</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  Iter.max <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/integer.html" class="external-link">integer</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  Nstart <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/integer.html" class="external-link">integer</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  LowerQuant <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">numeric</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  UpperQuant <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">numeric</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  CatLimit <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/integer.html" class="external-link">integer</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  Legend <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>RecaCatchAtAge</dt>
<dd><p>Results from MCMC simulations (<code><a href="RecaCatchAtAge.html">RecaCatchAtAge</a></code>).</p></dd>


<dt>Parameter</dt>
<dd><p>which parameter plot traceplots for "TotalCatch", "MeanLength", or "MeanWeight", Defaults to</p></dd>


<dt>PlusGroup</dt>
<dd><p>If given, ages 'PlusGroup' or older are included in a plus group.</p></dd>


<dt>LengthInterval</dt>
<dd><p>width of length bins in cm, for TotalCatch traceplots. If not provided, length inteval will be set to the maximum length group..</p></dd>


<dt>UseDefaultPlotSettings</dt>
<dd><p>if TRUE default plot settings are used, rather than the values provided by Nclust, Iter.max, Nstart, LowerQuant, UpperQuant, CatLimit, and Legend</p></dd>


<dt>Nclust</dt>
<dd><p>the number of plots to distribute the ages and plus group on. Defaults to 4.</p></dd>


<dt>Iter.max</dt>
<dd><p>maximal number of iterations for k-means clustering deciding which ages are plotted in same plot. Defaults to 20.</p></dd>


<dt>Nstart</dt>
<dd><p>the number of random sets chosen for the k-means clustering. Defaults to 10.</p></dd>


<dt>LowerQuant</dt>
<dd><p>lower quantile in each age group to plot as points. Defaults to .</p></dd>


<dt>UpperQuant</dt>
<dd><p>upper quantile in each age group to plot as points. Defaults to 0.95.</p></dd>


<dt>CatLimit</dt>
<dd><p>the upper limit for number of ages in a plot using categorical coloring. Plots with more than this number of age greoups will use a gradient coloring scheme. Defaults to 30.</p></dd>


<dt>Legend</dt>
<dd><p>If true legend will be plotted.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p><code><a href="PlotPosteriorTracesData.html">PlotPosteriorTracesData</a></code></p>


    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Provide data for this plot with <code><a href="RunRecaModels.html">RunRecaModels</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span> <span class="fu">RstoxFDA</span><span class="fu">::</span><span class="fu">PlotPosteriorTraces</span><span class="op">(</span><span class="fu">RstoxFDA</span><span class="fu">::</span><span class="va"><a href="RecaCatchAtAgeExample.html">RecaCatchAtAgeExample</a></span>, PlusGroup <span class="op">=</span> <span class="fl">13</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="PlotPosteriorTraces-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span> <span class="fu">RstoxFDA</span><span class="fu">::</span><span class="fu">PlotPosteriorTraces</span><span class="op">(</span><span class="fu">RstoxFDA</span><span class="fu">::</span><span class="va"><a href="RecaCatchAtAgeExample.html">RecaCatchAtAgeExample</a></span>, PlusGroup <span class="op">=</span> <span class="fl">13</span>,</span></span>
<span class="r-in"><span>          Parameter <span class="op">=</span> <span class="st">"MeanWeight"</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="PlotPosteriorTraces-2.png" alt="" width="700" height="433"></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Arne Johannes Holmin, Edvin Fuglebakk.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

