<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Prepares a Landings object as required by eca.predict."><title>Formats landings for R-ECA. — getLandings • RstoxFDA</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Formats landings for R-ECA. — getLandings"><meta property="og:description" content="Prepares a Landings object as required by eca.predict."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">RstoxFDA</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/StoX-data-preparation.html">StoX FDA data preparation (baseline)</a>
    <a class="dropdown-item" href="../articles/Stox-FDA-overview.html">StoX Fisheries overview (report)</a>
    <a class="dropdown-item" href="../articles/stox-reca.html">StoX-Reca (analysis)</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/StoXProject/RstoxFDA/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Formats landings for R-ECA.</h1>
      <small class="dont-index">Source: <a href="https://github.com/StoXProject/RstoxFDA/blob/HEAD/R/RecaWrap.R" class="external-link"><code>R/RecaWrap.R</code></a></small>
      <div class="d-none name"><code>getLandings.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Prepares a Landings object as required by <code><a href="https://rdrr.io/pkg/Reca/man/eca.predict.html" class="external-link">eca.predict</a></code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">getLandings</span><span class="op">(</span></span>
<span>  <span class="va">landings</span>,</span>
<span>  <span class="va">covariates</span>,</span>
<span>  <span class="va">covariateMaps</span>,</span>
<span>  date <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  month <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  quarter <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>landings</dt>
<dd><p>data.table() with total landings (as in <code><a href="prepRECA.html">prepRECA</a></code>, and <code><a href="rEcaDataReport.html">rEcaDataReport</a></code>), each row corresponding to one cell. Contains columns:</p><dl><dt>LiveWeightKG</dt>
<dd><p>numeric(). Total landings (Live/Round weight in Kg) for the cell</p></dd>

 <dt>...</dt>
<dd><p>Additional columns to be used as covariates. These define each cell. Type of covariate must be sepcified in 'fixedEffects', 'randomEffects' or 'carEffect'</p></dd>


</dl></dd>


<dt>covariates</dt>
<dd><p>character() vector of covariates used in model</p></dd>


<dt>covariateMaps</dt>
<dd><p>list() mapping covariate values from integers used in RECA to values used in 'landings'. For a covarate 'cov', the integer i is used for value a, when covariateMaps[[cov]][[i]] == a</p></dd>


<dt>date</dt>
<dd><p>POSIXct() vector, matching the number of rows in 'landings', date of catch, see details.</p></dd>


<dt>month</dt>
<dd><p>integer() vector, matching the number of rows in 'landings', month of catch (1 for January, etc.), see details.</p></dd>


<dt>quarter</dt>
<dd><p>integer() vector, vector, matching the number of rows in 'landings', quarter of catch (1 for Q1, etc.), see details.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>Landings object as required by <code><a href="https://rdrr.io/pkg/Reca/man/eca.predict.html" class="external-link">eca.predict</a></code></p>


    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The parameters 'date', 'month', and 'quarter' are used to set the temporal resolution for catch at age prediction.
 Provide exactly one of these, and set the other ones to NULL.
 Temporal resolution need not match any temporal covariate used.
 One can for example run with month, even if Quarter is a covariate in the model.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span> <span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">catchsamples</span><span class="op">)</span></span></span>
<span class="r-in"><span> <span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">landings</span><span class="op">)</span></span></span>
<span class="r-in"><span> <span class="va">catchsamples</span><span class="op">$</span><span class="va">Metier5</span> <span class="op">&lt;-</span> <span class="va">catchsamples</span><span class="op">$</span><span class="va">LEmetier5</span></span></span>
<span class="r-in"><span> <span class="va">landings</span><span class="op">$</span><span class="va">Metier5</span> <span class="op">&lt;-</span> <span class="va">landings</span><span class="op">$</span><span class="va">FishingActivityCategoryEuropeanLvl5</span></span></span>
<span class="r-in"><span> <span class="va">covMap</span> <span class="op">&lt;-</span> <span class="fu"><a href="getCovariateMap.html">getCovariateMap</a></span><span class="op">(</span><span class="st">"Metier5"</span>, <span class="va">catchsamples</span>, <span class="va">landings</span><span class="op">)</span></span></span>
<span class="r-in"><span> <span class="fu">getLandings</span><span class="op">(</span><span class="va">landings</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Metier5"</span><span class="op">)</span>, <span class="va">covMap</span>, month<span class="op">=</span><span class="va">landings</span><span class="op">$</span><span class="va">Month</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $AgeLengthCov</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      constant Metier5  midseason</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   1:        1      NA 0.04166667</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   2:        1      NA 0.04166667</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   3:        1      NA 0.04166667</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   4:        1      NA 0.04166667</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   5:        1      NA 0.04166667</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  ---                            </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 136:        1      NA 0.95833333</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 137:        1      NA 0.95833333</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 138:        1      NA 0.95833333</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 139:        1      NA 0.95833333</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 140:        1      NA 0.95833333</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $WeightLengthCov</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      constant Metier5  midseason</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   1:        1      NA 0.04166667</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   2:        1      NA 0.04166667</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   3:        1      NA 0.04166667</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   4:        1      NA 0.04166667</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   5:        1      NA 0.04166667</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  ---                            </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 136:        1      NA 0.95833333</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 137:        1      NA 0.95833333</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 138:        1      NA 0.95833333</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 139:        1      NA 0.95833333</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 140:        1      NA 0.95833333</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $LiveWeightKG</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   [1]     286      25  250036    1830  194018 3273227 1748348      50 4185134</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [10]     431   47688  396872    5392       2  476648    3346  227733 3834393</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [19] 2074242 9918271     576     182    1502  517766     256      59  816156</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [28]    1722   42750 1708199  401854       9 8097981   28918    1487  949050</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [37]     284      56  644914   10132    6942 1941510   85133     164 4581130</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [46]   18510    2436       2       6 1446977      20   86741   10093    6660</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [55] 2252695  159199  952184    7145    1050      31    7610 3004477     403</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [64]   39027    5667   43964  878267  195451 1453760      90     809    3697</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [73] 1194960     106   46192   33292 1089375  667459  670795 1718245    5049</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [82]     412   10907 2680842     312   77216    9135  250326  553660  285489</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [91]  599404     145   14485 2040036     217     762   68714     990   31878</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [100]  631597  374483  474991    1655     114    2714 1124215     257     286</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [109]   97397    2543   44809 2217342  792741      28 2872604    1576    1850</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [118]  464053     394      12  108891    4177   71908 4586319 1469352 1613570</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [127]     965     216   14420  269620    1124   42722     483   52854 4263132</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [136] 1071761 3355643     460   14715  211022</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Arne Johannes Holmin, Edvin Fuglebakk.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer></div>

  

  

  </body></html>

