<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Data report for R-ECA preparation — rEcaDataReport • RstoxFDA</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Data report for R-ECA preparation — rEcaDataReport" />
<meta property="og:description" content="Generates overview of samples to inform on sample availability in potential cell definitions.
 Informs on which columns maybe be used as fixed effect covariates, and how grouping of covariates is best done for random effects.
The covariates in landings define the cells.
 For each cell the covariates defining the cell is reported, before the total landed weight, along with the number of unique occurances of covariates not in landings (including catchId and sampleId).
 Lastly the number of fish measurements for Age, Weight and Length is reported." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">RstoxFDA</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/StoXProject/RstoxFDA/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Data report for R-ECA preparation</h1>
    <small class="dont-index">Source: <a href='https://github.com/StoXProject/RstoxFDA/blob/master/R/RecaWrap.R'><code>R/RecaWrap.R</code></a></small>
    <div class="hidden name"><code>rEcaDataReport.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Generates overview of samples to inform on sample availability in potential cell definitions.
 Informs on which columns maybe be used as fixed effect covariates, and how grouping of covariates is best done for random effects.</p>
<p>The covariates in landings define the cells.
 For each cell the covariates defining the cell is reported, before the total landed weight, along with the number of unique occurances of covariates not in landings (including catchId and sampleId).
 Lastly the number of fish measurements for Age, Weight and Length is reported.</p>
    </div>

    <pre class="usage"><span class='fu'>rEcaDataReport</span><span class='op'>(</span><span class='va'>samples</span>, <span class='va'>landings</span>, <span class='va'>covariates</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>samples</th>
      <td><p>data.table() with samples (as in <code><a href='prepRECA.html'>prepRECA</a></code>), each row corresponding to one sampled fish. Contains columns:</p><dl>
 <dt>catchId</dt><dd><p>Column identifying the catch that the sample was taken from. Typically a haul or a landing.</p></dd>
 <dt>sampleId</dt><dd><p>Column identifying the sample. If only one sample is taken for each catch. This can be set equal to catchId</p></dd>
 <dt>Age</dt><dd><p>integer() Age of fish.</p></dd>
 <dt>Length</dt><dd><p>numeric() Length of fish. Must be complete (no NAs)</p></dd>
 <dt>Weight</dt><dd><p>numeric() Weight of fish.</p></dd>
 <dt>...</dt><dd><p>Additional columns which may be used as covariates.</p></dd>

</dl></td>
    </tr>
    <tr>
      <th>landings</th>
      <td><p>data.table() with total landings (as in <code><a href='prepRECA.html'>prepRECA</a></code>), each row corresponding to one cell. Contains columns:</p><dl>
 <dt>LiveWeightKG</dt><dd><p>numeric(). Total landings (Live/Round weight in Kg) for the cell</p></dd>
 <dt>...</dt><dd><p>Additional columns which may be used as covariates. These will define each cell.</p></dd>

</dl></td>
    </tr>
    <tr>
      <th>covariates</th>
      <td><p>character() vector of columns to consider for covariates.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>data.table() with columns</p><dl>
 <dt>&lt;Covariates in landings&gt;</dt><dd><p>one column for each. Defines the cells.</p></dd>
 <dt>LiveWeightKG</dt><dd><p>The total weight (kg) in the cell.</p></dd>
 <dt>LiveWeightCumFraction</dt><dd><p>The fraction of landings in this cell AND all the cells with higher total weight than this cell.</p></dd>
 <dt>&lt;Count of covariates not in landings&gt;</dt><dd><p>Count of unique values for covariate. one column for each. Column name is covariate name (from samples) prefixed with N</p></dd>
 <dt>Ncatch</dt><dd><p>The number of unique catches sampled in the cell.</p></dd>
 <dt>Nsample</dt><dd><p>The number of unique catch-samples in the cell.</p></dd>
 <dt>Nage</dt><dd><p>The number of age readings in the cell.</p></dd>
 <dt>Nweight</dt><dd><p>The number of fish weight measurements in the cell.</p></dd>
 <dt>Nlength</dt><dd><p>The number of fish length measurements in the cell.</p></dd>

</dl>


    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'> <span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span><span class='op'>(</span><span class='va'>catchsamples</span><span class='op'>)</span>
 <span class='va'>catchsamples</span><span class='op'>$</span><span class='va'>catchId</span> <span class='op'>&lt;-</span> <span class='va'>catchsamples</span><span class='op'>$</span><span class='va'>LEid</span>
 <span class='va'>catchsamples</span><span class='op'>$</span><span class='va'>sampleId</span> <span class='op'>&lt;-</span> <span class='va'>catchsamples</span><span class='op'>$</span><span class='va'>SAid</span>
 <span class='va'>catchsamples</span><span class='op'>$</span><span class='va'>date</span> <span class='op'>&lt;-</span> <span class='va'>catchsamples</span><span class='op'>$</span><span class='va'>LEdate</span>
 <span class='va'>catchsamples</span><span class='op'>$</span><span class='va'>Metier5</span> <span class='op'>&lt;-</span> <span class='va'>catchsamples</span><span class='op'>$</span><span class='va'>LEmetier5</span>

 <span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span><span class='op'>(</span><span class='va'>landings</span><span class='op'>)</span>
 <span class='va'>landings</span><span class='op'>$</span><span class='va'>LiveWeightKG</span> <span class='op'>&lt;-</span> <span class='va'>landings</span><span class='op'>$</span><span class='va'>OfficialLandingsWeight</span>
 <span class='va'>landings</span><span class='op'>$</span><span class='va'>Metier5</span> <span class='op'>&lt;-</span> <span class='va'>landings</span><span class='op'>$</span><span class='va'>FishingActivityCategoryEuropeanLvl5</span>

 <span class='fu'>rEcaDataReport</span><span class='op'>(</span><span class='va'>catchsamples</span>, <span class='va'>landings</span>, <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Metier5"</span>, <span class='st'>"VDencrCode"</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt;     Metier5 LiveWeightKG LiveWeightCumFraction NVDencrCode Ndate Ncatch Nsample
#&gt;  1: OTB_DEF     39822917             0.4175925           1     1      1       1
#&gt;  2: LLS_DEF     26807800             0.6987055          34    16     34      35
#&gt;  3: SSC_DEF     14299890             0.8486575          29    23     29      29
#&gt;  4:  LX_DEF      9328848             0.9464820           0     0      0       0
#&gt;  5: GNS_DEF      2754654             0.9753680          17     9     17      17
#&gt;  6: LLD_DEF      2063217             0.9970034           0     0      0       0
#&gt;  7: PTB_DEF       118092             0.9982417           0     0      0       0
#&gt;  8: LHM_DEF        83410             0.9991164           0     0      0       0
#&gt;  9: OTM_DEF        63339             0.9997806           0     0      0       0
#&gt; 10: FPO_DEF         9051             0.9998755           0     0      0       0
#&gt; 11:  PS_DEF         5267             0.9999307           0     0      0       0
#&gt; 12: OTT_DEF         5155             0.9999848           0     0      0       0
#&gt; 13: GND_DEF         1202             0.9999974           0     0      0       0
#&gt; 14: MIS_DEF          251             1.0000000           0     0      0       0
#&gt;     Nage Nweight Nlength
#&gt;  1:   29      29      29
#&gt;  2:  962     962     962
#&gt;  3:  721     721     721
#&gt;  4:    0       0       0
#&gt;  5:  338     338     338
#&gt;  6:    0       0       0
#&gt;  7:    0       0       0
#&gt;  8:    0       0       0
#&gt;  9:    0       0       0
#&gt; 10:    0       0       0
#&gt; 11:    0       0       0
#&gt; 12:    0       0       0
#&gt; 13:    0       0       0
#&gt; 14:    0       0       0</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Arne Johannes Holmin, Edvin Fuglebakk.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


