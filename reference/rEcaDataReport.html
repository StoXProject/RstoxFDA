<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Data report for R-ECA preparation — rEcaDataReport • RstoxFDA</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Data report for R-ECA preparation — rEcaDataReport"><meta property="og:description" content="Generates overview of samples to inform on sample availability in potential cell definitions.
 Informs on which columns maybe be used as fixed effect covariates, and how grouping of covariates is best done for random effects.
The covariates in landings define the cells.
 For each cell the covariates defining the cell is reported, before the total landed weight, along with the number of unique occurances of covariates not in landings (including catchId and sampleId).
 Lastly the number of fish measurements for Age, Weight and Length is reported."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">RstoxFDA</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.0.4</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/StoX-data-preparation.html">StoX FDA data preparation (baseline)</a>
    </li>
    <li>
      <a href="../articles/Stox-FDA-overview.html">StoX Fisheries overview (report)</a>
    </li>
    <li>
      <a href="../articles/stox-reca.html">StoX-Reca (analysis)</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/StoXProject/RstoxFDA/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Data report for R-ECA preparation</h1>
    <small class="dont-index">Source: <a href="https://github.com/StoXProject/RstoxFDA/blob/HEAD/R/RecaWrap.R" class="external-link"><code>R/RecaWrap.R</code></a></small>
    <div class="hidden name"><code>rEcaDataReport.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Generates overview of samples to inform on sample availability in potential cell definitions.
 Informs on which columns maybe be used as fixed effect covariates, and how grouping of covariates is best done for random effects.</p>
<p>The covariates in landings define the cells.
 For each cell the covariates defining the cell is reported, before the total landed weight, along with the number of unique occurances of covariates not in landings (including catchId and sampleId).
 Lastly the number of fish measurements for Age, Weight and Length is reported.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">rEcaDataReport</span><span class="op">(</span><span class="va">samples</span>, <span class="va">landings</span>, <span class="va">covariates</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>samples</dt>
<dd><p>data.table() with samples (as in <code><a href="prepRECA.html">prepRECA</a></code>), each row corresponding to one sampled fish. Contains columns:</p><dl><dt>catchId</dt>
<dd><p>Column identifying the catch that the sample was taken from. Typically a haul or a landing.</p></dd>

 <dt>sampleId</dt>
<dd><p>Column identifying the sample. If only one sample is taken for each catch. This can be set equal to catchId</p></dd>

 <dt>Age</dt>
<dd><p>integer() Age of fish.</p></dd>

 <dt>Length</dt>
<dd><p>numeric() Length of fish. Must be complete (no NAs)</p></dd>

 <dt>Weight</dt>
<dd><p>numeric() Weight of fish.</p></dd>

 <dt>...</dt>
<dd><p>Additional columns which may be used as covariates.</p></dd>


</dl></dd>


<dt>landings</dt>
<dd><p>data.table() with total landings (as in <code><a href="prepRECA.html">prepRECA</a></code>), each row corresponding to one cell. Contains columns:</p><dl><dt>LiveWeightKG</dt>
<dd><p>numeric(). Total landings (Live/Round weight in Kg) for the cell</p></dd>

 <dt>...</dt>
<dd><p>Additional columns which may be used as covariates. These will define each cell.</p></dd>


</dl></dd>


<dt>covariates</dt>
<dd><p>character() vector of columns to consider for covariates.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>data.table() with columns</p><dl><dt>&lt;Covariates in landings&gt;</dt>
<dd><p>one column for each. Defines the cells.</p></dd>

 <dt>LiveWeightKG</dt>
<dd><p>The total weight (kg) in the cell.</p></dd>

 <dt>LiveWeightCumFraction</dt>
<dd><p>The fraction of landings in this cell AND all the cells with higher total weight than this cell.</p></dd>

 <dt>&lt;Count of covariates not in landings&gt;</dt>
<dd><p>Count of unique values for covariate. one column for each. Column name is covariate name (from samples) prefixed with N</p></dd>

 <dt>Ncatch</dt>
<dd><p>The number of unique catches sampled in the cell.</p></dd>

 <dt>Nsample</dt>
<dd><p>The number of unique catch-samples in the cell.</p></dd>

 <dt>Nage</dt>
<dd><p>The number of age readings in the cell.</p></dd>

 <dt>Nweight</dt>
<dd><p>The number of fish weight measurements in the cell.</p></dd>

 <dt>Nlength</dt>
<dd><p>The number of fish length measurements in the cell.</p></dd>


</dl></div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p>Other Reca functions: 
<code><a href="catchsamples.html">catchsamples</a></code>,
<code><a href="convertRecaData.html">convertRecaData</a>()</code>,
<code><a href="getCovariateMap.html">getCovariateMap</a>()</code>,
<code><a href="getLandings.html">getLandings</a>()</code>,
<code><a href="landings.html">landings</a></code>,
<code><a href="makeAgeTracesRECA.html">makeAgeTracesRECA</a>()</code>,
<code><a href="makeResultTableRECA.html">makeResultTableRECA</a>()</code>,
<code><a href="plotAgeTraces.html">plotAgeTraces</a>()</code>,
<code><a href="plotCatchAtAge.html">plotCatchAtAge</a>()</code>,
<code><a href="prepRECA.html">prepRECA</a>()</code>,
<code><a href="recaDataExample.html">recaDataExample</a></code>,
<code><a href="recaPrediction.html">recaPrediction</a></code>,
<code><a href="runRECA.html">runRECA</a>()</code>,
<code><a href="sanitizeRecaInput.html">sanitizeRecaInput</a>()</code>,
<code><a href="tabulateFisheries.html">tabulateFisheries</a>()</code></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span> <span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">catchsamples</span><span class="op">)</span></span></span>
<span class="r-in"><span> <span class="va">catchsamples</span><span class="op">$</span><span class="va">catchId</span> <span class="op">&lt;-</span> <span class="va">catchsamples</span><span class="op">$</span><span class="va">LEid</span></span></span>
<span class="r-in"><span> <span class="va">catchsamples</span><span class="op">$</span><span class="va">sampleId</span> <span class="op">&lt;-</span> <span class="va">catchsamples</span><span class="op">$</span><span class="va">SAid</span></span></span>
<span class="r-in"><span> <span class="va">catchsamples</span><span class="op">$</span><span class="va">date</span> <span class="op">&lt;-</span> <span class="va">catchsamples</span><span class="op">$</span><span class="va">LEdate</span></span></span>
<span class="r-in"><span> <span class="va">catchsamples</span><span class="op">$</span><span class="va">Metier5</span> <span class="op">&lt;-</span> <span class="va">catchsamples</span><span class="op">$</span><span class="va">LEmetier5</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span> <span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">landings</span><span class="op">)</span></span></span>
<span class="r-in"><span> <span class="va">landings</span><span class="op">$</span><span class="va">LiveWeightKG</span> <span class="op">&lt;-</span> <span class="va">landings</span><span class="op">$</span><span class="va">OfficialLandingsWeight</span></span></span>
<span class="r-in"><span> <span class="va">landings</span><span class="op">$</span><span class="va">Metier5</span> <span class="op">&lt;-</span> <span class="va">landings</span><span class="op">$</span><span class="va">FishingActivityCategoryEuropeanLvl5</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span> <span class="fu">rEcaDataReport</span><span class="op">(</span><span class="va">catchsamples</span>, <span class="va">landings</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Metier5"</span>, <span class="st">"VDencrCode"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     Metier5 LiveWeightKG LiveWeightCumFraction NVDencrCode Ndate Ncatch Nsample</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  1: OTB_DEF     39822917             0.4175925           1     1      1       1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  2: LLS_DEF     26807800             0.6987055          34    16     34      35</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  3: SSC_DEF     14299890             0.8486575          29    23     29      29</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  4:  LX_DEF      9328848             0.9464820           0     0      0       0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  5: GNS_DEF      2754654             0.9753680          17     9     17      17</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  6: LLD_DEF      2063217             0.9970034           0     0      0       0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  7: PTB_DEF       118092             0.9982417           0     0      0       0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  8: LHM_DEF        83410             0.9991164           0     0      0       0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  9: OTM_DEF        63339             0.9997806           0     0      0       0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10: FPO_DEF         9051             0.9998755           0     0      0       0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11:  PS_DEF         5267             0.9999307           0     0      0       0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12: OTT_DEF         5155             0.9999848           0     0      0       0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13: GND_DEF         1202             0.9999974           0     0      0       0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14: MIS_DEF          251             1.0000000           0     0      0       0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     Nage Nweight Nlength</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  1:   29      29      29</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  2:  962     962     962</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  3:  721     721     721</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  4:    0       0       0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  5:  338     338     338</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  6:    0       0       0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  7:    0       0       0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  8:    0       0       0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  9:    0       0       0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10:    0       0       0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11:    0       0       0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12:    0       0       0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13:    0       0       0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14:    0       0       0</span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Arne Johannes Holmin, Edvin Fuglebakk.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer></div>

  


  

  </body></html>

