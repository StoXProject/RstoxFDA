<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Assign PSU Sampling Parameters — AssignPSUSamplingParameters • RstoxFDA</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Assign PSU Sampling Parameters — AssignPSUSamplingParameters"><meta name="description" content="Assigns data records to PSU Sampling Parameters, provides non-response adjustments for
selected PSUs that was not sampled, and changes SamplingUnitId to that used to identify data records."><meta property="og:description" content="Assigns data records to PSU Sampling Parameters, provides non-response adjustments for
selected PSUs that was not sampled, and changes SamplingUnitId to that used to identify data records."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">RstoxFDA</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.7.0-9001</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/Stox-Analytical.html">StoX-Analytical-Estimates</a></li>
    <li><a class="dropdown-item" href="../articles/StoX-data-preparation.html">StoX FDA data preparation (baseline)</a></li>
    <li><a class="dropdown-item" href="../articles/Stox-FDA-overview.html">StoX Fisheries overview (report)</a></li>
    <li><a class="dropdown-item" href="../articles/stox-reca.html">StoX-Reca (analysis)</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/StoXProject/RstoxFDA/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Assign PSU Sampling Parameters</h1>
      <small class="dont-index">Source: <a href="https://github.com/StoXProject/RstoxFDA/blob/master/R/StoxAnalyticalBaselineFunctions.R" class="external-link"><code>R/StoxAnalyticalBaselineFunctions.R</code></a></small>
      <div class="d-none name"><code>AssignPSUSamplingParameters.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Assigns data records to PSU Sampling Parameters, provides non-response adjustments for
selected PSUs that was not sampled, and changes SamplingUnitId to that used to identify data records.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">AssignPSUSamplingParameters</span><span class="op">(</span></span>
<span>  <span class="va">PSUSamplingParametersData</span>,</span>
<span>  <span class="va">StoxBioticData</span>,</span>
<span>  SamplingUnitId <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  DataRecordId <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  DefinitionMethod <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"MissingAtRandom"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-psusamplingparametersdata">PSUSamplingParametersData<a class="anchor" aria-label="anchor" href="#arg-psusamplingparametersdata"></a></dt>
<dd><p><code><a href="PSUSamplingParametersData.html">PSUSamplingParametersData</a></code> with sampling parameters for PSU selection</p></dd>


<dt id="arg-stoxbioticdata">StoxBioticData<a class="anchor" aria-label="anchor" href="#arg-stoxbioticdata"></a></dt>
<dd><p><code><a href="https://rdrr.io/pkg/RstoxData/man/StoxBioticData.html" class="external-link">StoxBioticData</a></code> with data records for responding PSUs.</p></dd>


<dt id="arg-samplingunitid">SamplingUnitId<a class="anchor" aria-label="anchor" href="#arg-samplingunitid"></a></dt>
<dd><p>name of Variable in <code><a href="https://rdrr.io/pkg/RstoxData/man/StoxBioticData.html" class="external-link">StoxBioticData</a></code> that represent the SamplingUnitId of PSUs selected for sampling</p></dd>


<dt id="arg-datarecordid">DataRecordId<a class="anchor" aria-label="anchor" href="#arg-datarecordid"></a></dt>
<dd><p>name of Variable in <code><a href="https://rdrr.io/pkg/RstoxData/man/StoxBioticData.html" class="external-link">StoxBioticData</a></code> that represent records of sampled PSUs</p></dd>


<dt id="arg-definitionmethod">DefinitionMethod<a class="anchor" aria-label="anchor" href="#arg-definitionmethod"></a></dt>
<dd><p>The method for dealing with non-response, e.g. 'MissingAtRandon'</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p><code><a href="PSUSamplingParametersData.html">PSUSamplingParametersData</a></code> without non-respondent and with 'SamplingUnitId' changed</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Some sampling parameters provided in <code><a href="PSUSamplingParametersData.html">PSUSamplingParametersData</a></code> are only
interpretable for sampling with complete response. This function adjusts these parameters, removes non-respondents from the
<code><a href="PSUSamplingParametersData.html">PSUSamplingParametersData</a></code>, and checks that all responding PSUs are present in data records.</p>
<p>After correcting for non-response, the SamplingUnitId in <code><a href="PSUSamplingParametersData.html">PSUSamplingParametersData</a></code> will be replaced
by an ID (argument 'DataRecordId') so that sampling units can be brought into correspondence with how they are identified in lower
level sampling (<code><a href="IndividualSamplingParametersData.html">IndividualSamplingParametersData</a></code>)</p>
<p>If any respondents (rows of the SelectionTable of PSUSamplingParametersData that does not have NA for SamplingUnitId) are not
found in 'SamplingUnitId', execution halts with an error.</p>
<p>Response after selection can generally be considered a process that modifies the sampling parameters that are set by design.
Typically sample size, InclusionProbabilities and normalized SamplingWeights need to be adjusted as non-respondents are removed,
since these are depend of the entire sample, not just the sampling unit they are assigned to.
SelectionProbabilites are by definition set for a single draw of a single sampling unit from the population and are valid even
when response is not complete.</p>
<p>Treatment of non-response requires some assumption about systematic differences between respondents and non-respondents.
These assumptions are specified via the argument 'DefinitionMethod' and the following options are available:</p><dl><dt>MissingAtRandom</dt>
<dd><p>A response propensity is estimated for each stratum as the fraction of the sample resonding, and sample size (n) and InclusionProbability are adjusted by multiplying with this propensity. Sampling weights are adjusted by dividing them with their sum over repsondents in a stratum.</p></dd>


</dl></div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="ReadPSUSamplingParameters.html">ReadPSUSamplingParameters</a></code>, <code><a href="ComputePSUSamplingParameters.html">ComputePSUSamplingParameters</a></code>, <code><a href="AddPsuStratificationVariables.html">AddPsuStratificationVariables</a></code>, <code><a href="ComputeIndividualSamplingParameters.html">ComputeIndividualSamplingParameters</a></code>, <code><a href="AnalyticalPopulationEstimate.html">AnalyticalPopulationEstimate</a></code></p></div>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Edvin Fuglebakk, Arne Johannes Holmin.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

