<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Cell plot — PlotSamplingOverviewCell • RstoxFDA</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Cell plot — PlotSamplingOverviewCell"><meta name="description" content="Makes 'cell plot' overview of samples and landings."><meta property="og:description" content="Makes 'cell plot' overview of samples and landings."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">RstoxFDA</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.7.0-9001</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/Stox-Analytical.html">StoX-Analytical-Estimates</a></li>
    <li><a class="dropdown-item" href="../articles/StoX-data-preparation.html">StoX FDA data preparation (baseline)</a></li>
    <li><a class="dropdown-item" href="../articles/Stox-FDA-overview.html">StoX Fisheries overview (report)</a></li>
    <li><a class="dropdown-item" href="../articles/stox-reca.html">StoX-Reca (analysis)</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/StoXProject/RstoxFDA/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Cell plot</h1>
      <small class="dont-index">Source: <a href="https://github.com/StoXProject/RstoxFDA/blob/master/R/StoxPlots.R" class="external-link"><code>R/StoxPlots.R</code></a></small>
      <div class="d-none name"><code>PlotSamplingOverviewCell.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Makes 'cell plot' overview of samples and landings.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">PlotSamplingOverviewCell</span><span class="op">(</span></span>
<span>  <span class="va">ReportFdaSamplingData</span>,</span>
<span>  <span class="va">ColumnVariable</span>,</span>
<span>  Measurement <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"AgeReadings"</span>, <span class="st">"LengthMeasurements"</span>, <span class="st">"WeightMeasurements"</span><span class="op">)</span>,</span>
<span>  UseDefaultColorSettings <span class="op">=</span> <span class="cn">T</span>,</span>
<span>  MinVessels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/integer.html" class="external-link">integer</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  MinCatches <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/integer.html" class="external-link">integer</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  MinMeasurements <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/integer.html" class="external-link">integer</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  ColorNoSamples <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  ColorFewMeasurements <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  ColorFewCatches <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  ColorFewVessels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  ColorGoodSampling <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  TextSize <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">numeric</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-reportfdasamplingdata">ReportFdaSamplingData<a class="anchor" aria-label="anchor" href="#arg-reportfdasamplingdata"></a></dt>
<dd><p><code><a href="ReportFdaSamplingData.html">ReportFdaSamplingData</a></code> with sampling report to plot</p></dd>


<dt id="arg-columnvariable">ColumnVariable<a class="anchor" aria-label="anchor" href="#arg-columnvariable"></a></dt>
<dd><p>The grouping variable in 'ReportFdaSamplingData' that should be used for columns in the cell plot</p></dd>


<dt id="arg-measurement">Measurement<a class="anchor" aria-label="anchor" href="#arg-measurement"></a></dt>
<dd><p>The kind of fish measurement that should be used to determine the color of a cell. Defaults to <code>r RstoxFDA::stoxFunctionAttributes$PlotSamplingOverviewCell$functionParameterDefaults$Measurement</code>.</p></dd>


<dt id="arg-usedefaultcolorsettings">UseDefaultColorSettings<a class="anchor" aria-label="anchor" href="#arg-usedefaultcolorsettings"></a></dt>
<dd><p>Logical, whether to use default color settings or the value specified for the function parameters MinVessels, MinCatches, MinMeasurements, ColorNoSamples, ColorFewCatches, ColorFewVessels, ColorGoodSampling</p></dd>


<dt id="arg-minvessels">MinVessels<a class="anchor" aria-label="anchor" href="#arg-minvessels"></a></dt>
<dd><p>The minimum number of vessels sampled for a quality "Good" coloring of a cell. Defaults to <code>r RstoxFDA::stoxFunctionAttributes$PlotSamplingOverviewCell$functionParameterDefaults$MinVessels</code>.</p></dd>


<dt id="arg-mincatches">MinCatches<a class="anchor" aria-label="anchor" href="#arg-mincatches"></a></dt>
<dd><p>The minimum number of catches sampled for quality "Good" or "Few vessels" coloring of a cell. Defaults to <code>r RstoxFDA::stoxFunctionAttributes$PlotSamplingOverviewCell$functionParameterDefaults$MinCatches</code>.</p></dd>


<dt id="arg-minmeasurements">MinMeasurements<a class="anchor" aria-label="anchor" href="#arg-minmeasurements"></a></dt>
<dd><p>The minimum number of measurements (parameter 'Measurement') for quality "Good", "Few vessels" or "Few catches" coloring of a cell. Defaults to <code>r RstoxFDA::stoxFunctionAttributes$PlotSamplingOverviewCell$functionParameterDefaults$MinMeasurements</code>.</p></dd>


<dt id="arg-colornosamples">ColorNoSamples<a class="anchor" aria-label="anchor" href="#arg-colornosamples"></a></dt>
<dd><p>Color to use for cells not sampled. Defaults to <code>r RstoxFDA::stoxFunctionAttributes$PlotSamplingOverviewCell$functionParameterDefaults$ColorNoSamples</code>.</p></dd>


<dt id="arg-colorfewmeasurements">ColorFewMeasurements<a class="anchor" aria-label="anchor" href="#arg-colorfewmeasurements"></a></dt>
<dd><p>Color to use for cells with few measurements. Defaults to <code>r RstoxFDA::stoxFunctionAttributes$PlotSamplingOverviewCell$functionParameterDefaults$ColorFewMeasurements</code>.</p></dd>


<dt id="arg-colorfewcatches">ColorFewCatches<a class="anchor" aria-label="anchor" href="#arg-colorfewcatches"></a></dt>
<dd><p>Color to use for cells with Few Catches. See details. Defaults to <code>r RstoxFDA::stoxFunctionAttributes$PlotSamplingOverviewCell$functionParameterDefaults$ColorFewCatches</code>.</p></dd>


<dt id="arg-colorfewvessels">ColorFewVessels<a class="anchor" aria-label="anchor" href="#arg-colorfewvessels"></a></dt>
<dd><p>Color to use for cells with Few Vessels See details. Defaults to <code>r RstoxFDA::stoxFunctionAttributes$PlotSamplingOverviewCell$functionParameterDefaults$ColorFewVessels</code>.</p></dd>


<dt id="arg-colorgoodsampling">ColorGoodSampling<a class="anchor" aria-label="anchor" href="#arg-colorgoodsampling"></a></dt>
<dd><p>Color to use for cells with Good sampling. See details. Defaults to <code>r RstoxFDA::stoxFunctionAttributes$PlotSamplingOverviewCell$functionParameterDefaults$ColorGoodSampling</code>.</p></dd>


<dt id="arg-textsize">TextSize<a class="anchor" aria-label="anchor" href="#arg-textsize"></a></dt>
<dd><p>size of text in cellplot. If not provided, a suitable size will be calculated.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p><code><a href="PlotSamplingOverviewCellData.html">PlotSamplingOverviewCellData</a></code></p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Each part or 'cell' of the fishery identified by the groupingvariables of a <code><a href="ReportFdaSamplingData.html">ReportFdaSamplingData</a></code> report
is visualised as a cell on a two dimensional grid, and annotated with information about how much was landed in each 'cell'.
Cells that has been sampled are also annotated with a triplet (#vessels, #catches, #individuals) indicating the number of
sampled vessels, catches and individuals. The cells are also color coded to reflect how well they are sampled.</p>
<p>The visualisation gives an overview of which part of the fishery has few samples, and may suggest ways to group or post-stratify
variables for estimation. By extension it also suggests how supplemental sampling can be improved, for instance by revealing where
a small extra sampling effort prevents the need for grouping or post-stratifying.
The plot does not provide a direct visualisation of the efficiency of the sampling.
Efficient sampling may well leave many cells unsampled, as the activity (e.g. volume landed) may be very different between cells.</p>
<p>The color coding indicates five categories of sampling depending on how many vessels, catches, and individuals are sampled in the cell.
#'  The coloring is controlled by the arguments 'MinVessels', 'MinCatches', and 'MinMeasurements':</p><dl><dt>Good</dt>
<dd><p>Cell has sufficient number of individuals, catches and vessels sampled.</p></dd>

<dt>Few vessels</dt>
<dd><p>Cell has sufficient number of individuals and catches sampled, but not sufficient number of vessels</p></dd>

<dt>Few catches</dt>
<dd><p>Cell has sufficient number of individuals sampled, but not sufficient number of catches</p></dd>

<dt>Few measurements</dt>
<dd><p>Cell has sufficient number of individuals sampled, but not sufficient number of catches</p></dd>

<dt>No samples</dt>
<dd><p>Cell is not sampled</p></dd>

<dt>No Landings</dt>
<dd><p>Cell is sampled, but there are no official landings recorded for the cell.</p></dd>


</dl><p>See the documentation for <code><a href="ReportFdaSampling.html">ReportFdaSampling</a></code> for an explanation for why the category 'No landings' may occur.
The thresholds for what is considered sufficient sampling of vessels, catches and individuals, respectively,
is configured with the arguments 'MinVessels', 'MinCatches', 'MinMeasurements'</p>
<p>Colors are specified by ggplot convention and may be specified as a name (e.g. 'red'), a number (e.g. '2') or a hex-code (e.g. '#78c679').</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Provide data for this plot with <code><a href="ReportFdaSampling.html">ReportFdaSampling</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span> <span class="co">#plot to inspect sampling og key covariate (spatial, temporal, gear)</span></span></span>
<span class="r-in"><span> <span class="va">samplingReport</span> <span class="op">&lt;-</span> <span class="fu">RstoxFDA</span><span class="fu">::</span><span class="fu"><a href="ReportFdaSampling.html">ReportFdaSampling</a></span><span class="op">(</span><span class="fu">RstoxFDA</span><span class="fu">::</span><span class="va"><a href="StoxBioticDataExample.html">StoxBioticDataExample</a></span>, </span></span>
<span class="r-in"><span>           <span class="fu">RstoxFDA</span><span class="fu">::</span><span class="va"><a href="StoxLandingDataExample.html">StoxLandingDataExample</a></span>, </span></span>
<span class="r-in"><span>           GroupingVariables <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Quarter"</span>, <span class="st">"GearGroup"</span>, <span class="st">"Stratum"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span> <span class="fu">PlotSamplingOverviewCell</span><span class="op">(</span><span class="va">samplingReport</span>, ColumnVariable <span class="op">=</span> <span class="st">"Stratum"</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="PlotSamplingOverviewCell-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span> </span></span>
<span class="r-in"><span> <span class="co">#plot to suggest regrouping categorical variables for fixed effect configuration in Reca</span></span></span>
<span class="r-in"><span> <span class="va">fixedEffectReport</span> <span class="op">&lt;-</span> <span class="fu">RstoxFDA</span><span class="fu">::</span><span class="fu"><a href="ReportFdaSampling.html">ReportFdaSampling</a></span><span class="op">(</span><span class="fu">RstoxFDA</span><span class="fu">::</span><span class="va"><a href="StoxBioticDataExample.html">StoxBioticDataExample</a></span>, </span></span>
<span class="r-in"><span>             <span class="fu">RstoxFDA</span><span class="fu">::</span><span class="va"><a href="StoxLandingDataExample.html">StoxLandingDataExample</a></span>, </span></span>
<span class="r-in"><span>             GroupingVariables <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Quarter"</span>, <span class="st">"GearGroup"</span><span class="op">)</span>, Unit <span class="op">=</span> <span class="st">"ton"</span><span class="op">)</span></span></span>
<span class="r-in"><span> <span class="fu">PlotSamplingOverviewCell</span><span class="op">(</span><span class="va">fixedEffectReport</span>, ColumnVariable <span class="op">=</span> <span class="st">"GearGroup"</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="PlotSamplingOverviewCell-2.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span> <span class="co">#same plot with regroping of quarter (Period)</span></span></span>
<span class="r-in"><span> <span class="va">fixedEffectReport</span> <span class="op">&lt;-</span> <span class="fu">RstoxFDA</span><span class="fu">::</span><span class="fu"><a href="ReportFdaSampling.html">ReportFdaSampling</a></span><span class="op">(</span><span class="fu">RstoxFDA</span><span class="fu">::</span><span class="va"><a href="StoxBioticDataExample.html">StoxBioticDataExample</a></span>, </span></span>
<span class="r-in"><span>             <span class="fu">RstoxFDA</span><span class="fu">::</span><span class="va"><a href="StoxLandingDataExample.html">StoxLandingDataExample</a></span>, </span></span>
<span class="r-in"><span>             GroupingVariables <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Period"</span>, <span class="st">"GearGroup"</span><span class="op">)</span>, Unit <span class="op">=</span> <span class="st">"ton"</span><span class="op">)</span></span></span>
<span class="r-in"><span> <span class="fu">PlotSamplingOverviewCell</span><span class="op">(</span><span class="va">fixedEffectReport</span>, ColumnVariable <span class="op">=</span> <span class="st">"GearGroup"</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="PlotSamplingOverviewCell-3.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Edvin Fuglebakk, Arne Johannes Holmin.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

