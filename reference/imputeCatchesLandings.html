<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Impute catches to landings — imputeCatchesLandings • RstoxFDA</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Impute catches to landings — imputeCatchesLandings"><meta property="og:description" content="Imputes landings to represent individual catches of species from a trip, and redistributes selected values over the imputed landings.
 This mimics a situation where landings are reported for each catch rather than each trip.
 This is useful to obtain a higher resolution on some grouping variables and consolidate logbook records with landing records, 
 while preserving data for landings not reported in logbooks, and preserving the total value equal to that in landings."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">RstoxFDA</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.0.3</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/StoX-data-preparation.html">StoX FDA data preparation (baseline)</a>
    </li>
    <li>
      <a href="../articles/Stox-FDA-overview.html">StoX Fisheries overview (report)</a>
    </li>
    <li>
      <a href="../articles/stox-reca.html">StoX-Reca (analysis)</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/StoXProject/RstoxFDA/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Impute catches to landings</h1>
    <small class="dont-index">Source: <a href="https://github.com/StoXProject/RstoxFDA/blob/HEAD/R/landingsAnalyses.R" class="external-link"><code>R/landingsAnalyses.R</code></a></small>
    <div class="hidden name"><code>imputeCatchesLandings.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Imputes landings to represent individual catches of species from a trip, and redistributes selected values over the imputed landings.
 This mimics a situation where landings are reported for each catch rather than each trip.
 This is useful to obtain a higher resolution on some grouping variables and consolidate logbook records with landing records, 
 while preserving data for landings not reported in logbooks, and preserving the total value equal to that in landings.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">imputeCatchesLandings</span><span class="op">(</span></span>
<span>  <span class="va">landings</span>,</span>
<span>  <span class="va">logbooks</span>,</span>
<span>  tripIdCol <span class="op">=</span> <span class="st">"tripid"</span>,</span>
<span>  <span class="va">catchIdCol</span>,</span>
<span>  speciesColLand <span class="op">=</span> <span class="st">"Art FAO (kode)"</span>,</span>
<span>  speciesColLog <span class="op">=</span> <span class="st">"FANGSTART_FAO"</span>,</span>
<span>  weightCol <span class="op">=</span> <span class="st">"RUNDVEKT"</span>,</span>
<span>  valueColumns <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Bruttovekt"</span>, <span class="st">"Produktvekt"</span>, <span class="st">"Rundvekt"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>landings</dt>
<dd><p><code><a href="https://Rdatatable.gitlab.io/data.table/reference/data.table.html" class="external-link">data.table</a></code> containing landings records, and a column identifying the trip that caught the landed catch ('tripIdCol').</p></dd>


<dt>logbooks</dt>
<dd><p><code><a href="https://Rdatatable.gitlab.io/data.table/reference/data.table.html" class="external-link">data.table</a></code> containing logbook records, and columns identifying the trip ('tripIdCol') and catch ('catchIdCol').</p></dd>


<dt>tripIdCol</dt>
<dd><p>character() that identifies the column in 'landings' and 'logbooks' that contain trip ids</p></dd>


<dt>catchIdCol</dt>
<dd><p>character() that identifies the column in 'logbooks' that contain catch ids</p></dd>


<dt>speciesColLand</dt>
<dd><p>character() that identifies the column in 'landings' that contain species ids</p></dd>


<dt>speciesColLog</dt>
<dd><p>character() that identifies the column in 'logbooks' that contain species ids</p></dd>


<dt>weightCol</dt>
<dd><p>character() that identifies the column in 'logbooks' that contain the weights to use for redistribution of value columns.</p></dd>


<dt>valueColumns</dt>
<dd><p>character() vector with names of columns that should be redistributed over the imputed landings</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p><code><a href="https://Rdatatable.gitlab.io/data.table/reference/data.table.html" class="external-link">data.table</a></code> with 'landings' that have artificial landings imputed, each catch identified by the added column 'catchIdCol'.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>The result of imputation have added lines for each corresponding catch in logbooks, 
 and 'valueColumns' redistributed to reflect the fraction of 'weightCol' that each catch 
 contributes to the total trip catch of the species ('speciesColLog').</p> 
<p>Important: columns in landings that are not in 'valueColumns' will
 be duplicated exactly for the imputed catches. 
 That means that any weight-column not in 'valueColumns' will result in duplicated total weights for that column.
 That also means that any identifiers / keys may be copied and thus be rendered non-unique in the imputed landings.</p> 
<p>Landings for which no trip can be found in 'logbooks' are left untouched.
 logbook entries with no corresponding landings are ignored.</p> 
<p>Default values for parameters 'speciesCol' and 'valueColumns' are suitable for data read with <code><a href="https://rdrr.io/pkg/RstoxData/man/readLssFile.html" class="external-link">readLssFile</a></code>.
 Default values for 'tripIdCol' corresponds to defaults for <code><a href="makeTripIds.html">makeTripIds</a></code>, <code><a href="appendTripIdLandings.html">appendTripIdLandings</a></code>, and <code><a href="appendTripIdLogbooks.html">appendTripIdLogbooks</a></code>.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="makeTripIds.html">makeTripIds</a></code>, <code><a href="appendTripIdLandings.html">appendTripIdLandings</a></code>, and <code><a href="appendTripIdLogbooks.html">appendTripIdLogbooks</a></code> for obtaining 'landings' with trip-ids.</p>
<p>Other logbook functions: 
<code><a href="addLogbookColumns.html">addLogbookColumns</a>()</code>,
<code><a href="appendTripIdLandings.html">appendTripIdLandings</a>()</code>,
<code><a href="appendTripIdLogbooks.html">appendTripIdLogbooks</a>()</code>,
<code><a href="calculateLogbookPartitionByTrip.html">calculateLogbookPartitionByTrip</a>()</code>,
<code><a href="convertToErsData.html">convertToErsData</a>()</code>,
<code><a href="logbookAdjustment.html">logbookAdjustment</a>()</code>,
<code><a href="makeTripIds.html">makeTripIds</a>()</code>,
<code><a href="readLstFile.html">readLstFile</a>()</code>,
<code><a href="sourceLogbookColumns.html">sourceLogbookColumns</a>()</code></p>
<p>Other landings functions: 
<code><a href="ReadLandingFDA.html">ReadLandingFDA</a>()</code>,
<code><a href="ReportFdaLandings.html">ReportFdaLandings</a>()</code>,
<code><a href="ReportFdaSampling.html">ReportFdaSampling</a>()</code>,
<code><a href="addLogbookColumns.html">addLogbookColumns</a>()</code>,
<code><a href="appendTripIdLandings.html">appendTripIdLandings</a>()</code>,
<code><a href="logbookAdjustment.html">logbookAdjustment</a>()</code>,
<code><a href="makeTripIds.html">makeTripIds</a>()</code>,
<code><a href="plotBubbleMap.html">plotBubbleMap</a>()</code>,
<code><a href="sourceLogbookColumns.html">sourceLogbookColumns</a>()</code>,
<code><a href="tabulateFisheries.html">tabulateFisheries</a>()</code></p></div>
    </div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Arne Johannes Holmin, Edvin Fuglebakk.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer></div>

  


  

  </body></html>

